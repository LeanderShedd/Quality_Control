---
title: "Chapter 4: Example Walkthroughs"
output:
  prettydoc::html_pretty:
    theme: tactile
    highlight: github
---

```{r include=FALSE}
library(knitr)
```


This walkthrough will go over each of the example exercises in chapter 4, covering Inferences about Process Quality.




## Example 4.1: Computer Response Time

This example teaches us about basic hypothesis testing and One-Sample Z tests specific to the question "is the mean response time to a specific type of command greater than 75 ms". We're given the mean of a random sample (called x_bar), the hypothesis mean (called mu), the standard deviation (called sd), and the size of the sample (called n). 

Here's how to do it in R.



```{r}
#first define the variables
x_bar = 79.25
sample_mu = 75
sd = 8
n = 25

#now find the Z score

Z = (x_bar - sample_mu) / (sd / sqrt(n))
p = 1 - pnorm(Z)

print(paste("The Z score of the example is ", Z, ", and the p score associated is ", p, sep = ""))


```

Because we specified a type 1 error of a = .05 and the test is one sided, we reject the null hypothesis and conclude that the mean response time exceeds 75ms. 

```{r}

#After running the code above, your screen should look like the output below

include_graphics("Screenshots/Example_4_1.png")


```



## Example 4.2: Computer Response Time pt 2


This example introduces two-sided confidence intervals to what we already know about hypothesis testing using a similar example to 4.1. The following R code explains how to compute this given x_bar, Z, sigma, and n.


```{r}
#first define variables
x_bar = 79.25
Z = 1.96
sigma = 8
n = 25

#Lower bound
lower_bound = x_bar - (Z) * (sigma / sqrt(n))

#Upper bound
upper_bound = x_bar + (Z) * (sigma / sqrt(n))

#Result
print(paste(lower_bound, "< mu <", upper_bound))

```

```{r}
#After running the code above, your screen should look like the output below

include_graphics("Screenshots/Example_4_2.png")
```

## Example 4.3: Rubberized Asphalt


This example asks us to interpret a dataset to find the sample standard deviation and sample mean, and use the test statistic for a fixed significance level. Now for the R!

```{r}
#given variables
null_hypothesis = 3200
dataset_rubberized = data.frame(Specimen = c(1:15), Stabilized_Viscosity = c(3193, 3124, 3153, 3145, 3093, 3466, 3355, 2979, 3182, 3227, 3256, 3332, 3204, 3282, 3170))

#mean and standard deviation
visc_mean = mean(dataset_rubberized$Stabilized_Viscosity)

visc_sd = sd(dataset_rubberized$Stabilized_Viscosity)

#t statistic
t_stat = (visc_mean - null_hypothesis) / (visc_sd / sqrt(nrow(dataset_rubberized)))

#Range
Range_t <- qt(c(.025, .975), df = 14)
if(Range_t[1] < t_stat & t_stat < Range_t[2]){
  print(TRUE)
}
print(paste(round(Range_t[1],3), "<", round(t_stat, 3), "<", round(Range_t[2], 3)))


```

After completion, your screen should look something like this

```{r}

include_graphics("Screenshots/Example_4_3.png")
```


## Example 4.4: Rubberized Viscosity pt 2

Working off of the previous example, 4.4 asks us to find the 95% confidence interval on the mean stabilized viscosity given equation 4.36. The implementation in R is as follows.

```{r}
#given variables
null_hypothesis = 3200
dataset_rubberized = data.frame(Specimen = c(1:15), Stabilized_Viscosity = c(3193, 3124, 3153, 3145, 3093, 3466, 3355, 2979, 3182, 3227, 3256, 3332, 3204, 3282, 3170))

#mean and standard deviation
visc_mean = mean(dataset_rubberized$Stabilized_Viscosity)

visc_sd = sd(dataset_rubberized$Stabilized_Viscosity)

#t statistic
t_stat = (visc_mean - null_hypothesis) / (visc_sd / sqrt(nrow(dataset_rubberized)))

#Range
Range_t <- qt(c(.025, .975), df = 14)

#Lower bound
lower_bound = visc_mean - Range_t[2] * (visc_sd / sqrt(15))

#Upper bound
upper_bound = visc_mean + Range_t[2] * (visc_sd / sqrt(15))

#Finished interval
print(paste(round(lower_bound,3), "< mean stabilized viscosity <", round(upper_bound, 3)))


```

```{r}
include_graphics("Screenshots/Example_4_4.png")
```


## Example 4.5: A Forging Process

This example is similar to example 4.4, but the hypothesis is a p value instead of a mean, using the inference on a population proportion's formula (equation 4.43)  Here we go!

```{r}
#given variables
errors = 41
sample_size = 250
null_hypothesis = .1

#Equation
Z = ((errors - .5) - sample_size * null_hypothesis) / sqrt(sample_size * null_hypothesis * (1 - null_hypothesis))

if(Z > 1.96) {
  print("REJECT")
}
if(Z < 1.96){
  print("ACCEPT")
}

```

```{r}
include_graphics("Screenshots/Example_4_5.png")
```

## Example 4.6: Mortgage Applications

Given a fraction of acceptable samples and a desired percent confidence, can we find a confidence interval? Here's how using equation 4.44

```{r}
#Given variables
total_samples = 80
rejected_applications = 15
fraction_rejected = rejected_applications / total_samples
Z_score = 1.96

#Lower Bound
lower_bound = fraction_rejected - Z_score * sqrt((fraction_rejected * (1 - fraction_rejected)) / total_samples)

#Upper Bound
upper_bound = fraction_rejected + Z_score * sqrt((fraction_rejected * (1 - fraction_rejected)) / total_samples)

print(paste(round(lower_bound,4), "< p <", round(upper_bound, 4)))


```






